function atl_OnQuickHelpError(a){}function atl_HideQuickHelp(){atl_HideInvoked=!0;var a=document.getElementById("atl_quickhelp");null!==a&&(a.style.display="none",a.style.visibility="hidden")}function atl_ShowDivContent(a){null===a||atl_HideInvoked||(a.style.display="block",a.style.visibility="visible")}function atl_getOffsetLeft(a){var b=a.offsetLeft;if(null!=a.offsetParent)for(var c=a.offsetParent;c;)b+=c.offsetLeft,c=c.offsetParent;return b}function atl_getScrollY(){var a=0;return"number"==typeof window.pageYOffset?a=window.pageYOffset:document.body&&(document.body.scrollLeft||document.body.scrollTop)?a=document.body.scrollTop:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(a=document.documentElement.scrollTop),a}function atl_ShowHelp(a){for(var b=a.offsetTop,c=a.offsetParent;c;)b+=c.offsetTop,c=c.offsetParent;return b}function atl_ShowHelpById(a,b){if(b){var c=347,d=atl_getOffsetLeft(a),e=window.innerWidth?window.innerWidth-25:document.body.clientWidth;d+c>e&&(d=e-c),newX=d;var f=b.offsetHeight,g=atl_ShowHelp(a)+a.offsetHeight,h=window.innerHeight?window.innerHeight-25:document.body.clientHeight;g+f>h+atl_getScrollY()&&(g=atl_ShowHelp(a)-f),newY=g-10,b.style.top=newY+"px",b.style.left=newX+"px",b.left=newX+"px",b.left=newY+"px"}}function promtotion_Select(a,b,c){basketController.promotion_Select(a,b,c)}function atl_promotion_Post(a,b){basketController.promotion_Post(a,b)}function atl_promotion_Remove(a){basketController.promotion_Remove(a)}function atl_promotion_Keydown(a,b,c){atl_disableEnterKey(a);var d;if(!a)var a=window.event;return a.keyCode?d=a.keyCode:a.which&&(d=a.which),13!=d||(atl_promotion_Post(b,c),!1)}function atlCookieDomain(){var a=window.location.hostname,b=a.lastIndexOf(".");if(b<0)return"."+a;var c="";return c=a.lastIndexOf(".",b-1)>-1?a.substr(a.lastIndexOf(".",b-1)):"."+a}function atlSetMemCookie(a,b,c){var d=a+"="+b+"; path=/; domain="+atlCookieDomain();document.cookie=d}function atlFormGetInput(a,b){for(var c=null,d=0;d<a.length;d++)if(a[d].id==b){c=a[d];break}if(null===c){var e=document.createElement("input");e.setAttribute("id",b),e.setAttribute("type","hidden"),e.name=b,c=e,a.append(c)}return c}function atlFormSubmit(a,b){var c=$("#"+a);c.attr("action",b),c.submit()}function atlFormSetValue(a,b,c){var d=$("#"+a),e=atlFormGetInput(d,b);e.value=c}function atl_toggleVisibility(a){var b=document.getElementById(a);"visible"==b.style.visibility||""===b.style.visibility?(b.style.visibility="hidden",b.style.display="none"):(b.style.visibility="visible",b.style.display="block")}function atl_disableEnterKey(a){var b;return a||(a=window.event),a.keyCode?b=a.keyCode:a.which&&(b=a.which),13!=b||!!a&&(a.returnValue=!1,a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),!1)}function atl_valid_removeBadChar(a){for(var b="",c=0;c<a.value.length;c++)if("<"!=a.value.charAt(c)&&">"!=a.value.charAt(c)){var d=a.value.charCodeAt(c);(d>=32&&d<128||229==d||228==d||246==d||197==d||196==d||214==d||241==d||209==d)&&(b+=a.value.charAt(c))}a.value!=b&&(a.value=b)}function atl_AlphaNumericOnlyKeypress(a){var b,c,d;window.event?b=a.keyCode:a.which&&(b=a.which),c=String.fromCharCode(b),regForm="^[a-zA-Z0-9]*$";var d=new RegExp(regForm);return d.test(c)}function FOS_DPP_validateDomainSearchInput(a){if(0==a.length)return CartGblLocalizedText.PullText("domContactEnterDomain");var b=/[<>&'"]+/,c=b.test(a);return c?CartGblLocalizedText.PullText("domContactInvalidChars"):""}function SplitTest(a,b,c){if(a&&b)try{var d=$.cookie("pathway"),e=JSON.parse(sessionStorage.getItem(d+":"+a));null===e?$.ajax({url:"/api/split",type:"GET",data:{id:a},success:function(e){sessionStorage.setItem(d+":"+a,e),e&&c?c():b()},error:function(){b()}}):e?c():b()}catch(f){b()}}var gbl=gbl||{};gbl.ns||(gbl.ns={}),gbl.ns.register||(gbl.ns.register=function(a){var b=window;if(a&&a.length>0){var c=a.split("."),d=c[0];b[d]||(b[d]={});for(var e=b[d],f=1;f<c.length;f++){var g=c[f];e[g]||(e[g]={}),e=e[g]}}}),gbl.sharedObjectMgr||(gbl.sharedObjectMgr=function(){var a={},b={set:function(b,c){b.indexOf(".")==-1&&(a[b]=c)},get:function(b){return b.indexOf(".")==-1?a[b]:null},remove:function(b){b.indexOf(".")==-1&&delete a[b]}};return b}()),function(a){function b(a){a&&a.printPage?a.printPage():setTimeout(function(){b(a)},50)}function c(a){return a=f(a),f(":checked",a).each(function(){this.setAttribute("checked","checked")}),f("input[type='text']",a).each(function(){this.setAttribute("value",f(this).val())}),f("select",a).each(function(){var a=f(this);f("option",a).each(function(){a.val()==f(this).val()&&this.setAttribute("selected","selected")})}),f("textarea",a).each(function(){var a=f(this).attr("value");f.browser.b&&this.firstChild?this.firstChild.textContent=a:this.innerHTML=a}),f("<div></div>").append(a.clone()).html()}function d(b,d){var g=f(b);b=c(b);var h=[];if(h.push("<html><head><title>"+d.pageTitle+"</title>"),d.overrideElementCSS){if(d.overrideElementCSS.length>0)for(var i=0;i<d.overrideElementCSS.length;i++){var j=d.overrideElementCSS[i];"string"==typeof j?h.push('<link type="text/css" rel="stylesheet" href="'+j+'" >'):h.push('<link type="text/css" rel="stylesheet" href="'+j.href+'" media="'+j.media+'" >')}}else f("link",e).filter(function(){return"stylesheet"==f(this).attr("rel").toLowerCase()}).each(function(){h.push('<link type="text/css" rel="stylesheet" href="'+f(this).attr("href")+'" media="'+f(this).attr("media")+'" >')});return h.push('<base href="'+(a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")+a.location.pathname)+'" />'),h.push('</head><body style="'+d.printBodyOptions.styleToAdd+'" class="'+d.printBodyOptions.classNameToAdd+'">'),h.push('<div class="'+g.attr("class")+'">'+b+"</div>"),h.push('<script type="text/javascript">function printPage(){focus();print();'+(f.browser.opera||d.leaveOpen||"popup"!=d.printMode.toLowerCase()?"":"close();")+"}</script>"),h.push("</body></html>"),h.join("")}var e=a.document,f=a.jQuery;f.fn.printElement=function(c){var g=f.extend({},f.fn.printElement.defaults,c);return"iframe"==g.printMode&&(f.browser.opera||/chrome/.test(navigator.userAgent.toLowerCase()))&&(g.printMode="popup"),f("[id^='printElement_']").remove(),this.each(function(){var c=f.a?f.extend({},g,f(this).data()):g,h=f(this);h=d(h,c);var i=null,j=null;if("popup"==c.printMode.toLowerCase())i=a.open("about:blank","printElementWindow","width=650,height=440,scrollbars=yes"),j=i.document;else{i="printElement_"+Math.round(99999*Math.random()).toString();var k=e.createElement("IFRAME");f(k).attr({style:c.iframeElementOptions.styleToAdd,id:i,className:c.iframeElementOptions.classNameToAdd,frameBorder:0,scrolling:"no",src:"about:blank"}),e.body.appendChild(k),j=k.contentWindow||k.contentDocument,j.document&&(j=j.document),k=e.frames?e.frames[i]:e.getElementById(i),i=k.contentWindow||k}focus(),j.open(),j.write(h),j.close(),b(i)})},f.fn.printElement.defaults={printMode:"iframe",pageTitle:"",overrideElementCSS:null,printBodyOptions:{styleToAdd:"padding:10px;margin:10px;",classNameToAdd:""},leaveOpen:!1,iframeElementOptions:{styleToAdd:"border:none;position:absolute;width:0px;height:0px;bottom:0px;left:0px;",classNameToAdd:""}},f.fn.printElement.cssElement={href:"",media:""}}(window),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(arguments.length>1&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;n<o;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)&&(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),gbl.ns.register("cart.controls");var CartGblLocalizedText;cart.controls=function(){var a="click.cart";this.init=function(a,c,d){(new cart.controls.tooltip).init(a,d),(new cart.controls.bindAgreement).init(c),CartGblLocalizedText=new cart.controls.LocalizedText,b()};var b=function(){$("#cart-buyer-sel").off(a).on(a,function(){var a=new cart.controls.cartSimpleSelector,b=$("#cart-defaultRegLength-val").val();a.init({position:(new cart.controls.tooltip).positions.middleleft,selectorData:cart_buyer_profiles,anchor:"cart-buyer-sel",selectedItemValue:b,onChange:function(a,b){$("#cart-defaultRegLength-val").val(a),$("#cart-buyer-current").html(b)}})})}},cart.controls.LocalizedText=function(){var a=[];this.PushText=function(b,c){a[b]=c},this.PullText=function(b){return null!==a[b]?a[b]:""}},cart.controls.bindAgreement=function(){var a="click.cartAgreement",b="",c="cart-bind-agreement",d="cart-modal-agreement",e="cart-agreement-container",f="cart-modal-agreement-Exit";this.init=function(a){b=a,g()};var g=function(){$("."+c).unbind(a).bind(a,function(){var a=$(this).attr("data-pageID"),c=$(this).attr("data-ci"),d=$(this).html();$("#cart-agreement-title").html(d),$.ajax({dataType:"json",url:b,data:{pageID:a,ciCode:c,TargetDivId:e},success:h})}),$("#"+f).unbind(a).bind(a,function(){$("#"+d).cartModal({close:!0})}),$("#cart-modal-agreement-Print").unbind(a).bind(a,function(){$("#"+d).cartModal({close:!0});var a=$("#cart-modal-agreement-Print-Container");a.html($("#"+e).html()),"none"===a.css("display")&&a.show(),a.printElement().hide()})},h=function(a){$("#"+e).html(a.AgreementHTML),$("#"+d).cartModal()}},$.fn.tooltipError=function(a){var b="cart-tooltip-error",c="cart-tb-error",d="cart-tt-error-arrow-u",e="cart-tt-error-arrow-d",f='<div id="{{id}}" class="'+b+'" {{style}}><div class="{{classname}}"></div><div>{{text}}</div></div>',g=$.extend({text:"",position:"top-left",close:!1,highlight:!0,style:""},a||{}),h=$(this);if(g.close){h.removeClass(c),h.css({"padding-bottom":"0"});var i=$(this).prev();i.hasClass(b)&&i.remove()}else{var j=$.guid++;g.highlight&&h.addClass(c);var k="bottom-left"===g.position,l=k?d:e,m='style="'+g.style+'"',n=f.replace("{{text}}",g.text).replace("{{id}}",j).replace("{{classname}}",l).replace("{{style}}",m);$(n).insertBefore(this);var o,p=$("#"+j),q=h.offset();o=k?q.top+h.outerHeight()+10:q.top-p.outerHeight()-10,p.css({top:o+"px",left:q.left+"px"}),h.css({"padding-bottom":p.outerHeight()+"px"})}},cart.controls.tooltip=function(){var a,b,c="click.cartTooltip",d="mouseleave.cartTooltip",e="mouseenter.cartTooltip",f="resize.cartTooltip",g="focus.cartTooltip",h="blur.cartTooltip",i="cart-tt-close",j="cart-tt-open",k="cart-tooltip-focus",l="cart-tooltip-content-focus",m="cart-tt-arrow-l",n="cart-tt-arrow-l-input",o=".cart-tooltip-hover",p=".cart-tooltip-click",q="."+k,r="."+l,s=".cart-tooltip-content-hover",t=".cart-tooltip-content-click",u=".cart-tooltip",v=".cart-tooltip-info-hover",w=".cart-tooltip-info",x="data-feName",y=!1,z="cart_tooltip_{{keyname}}",A="cart_tooltip_{{keyname}}",B='<div id="'+z+'" class="cart-tooltip"><div>{{html}}</div><div class="{{arrowclass}}"></div><span class="'+i+'">X</span></div>',C='<div id="'+A+'" class="cart-tooltip-info"><div class="cart-tt-info-arrow-d"></div><div>{{html}}</div><span class="'+i+'">X</span></div>',D=this,E={};E.info="info",E.quickhelp="quickhelp",E.content="content",this.init=function(i,j){a=i,b="undefined"!=typeof j&&j.length>0?j:$("body"),b.off(e,o).on(e,o,function(){$(u).hide(),y=!1,G($(this),!1)}).off(d,o).on(d,o,function(){K(F(this))}),b.off(c,p).on(c,p,function(){$(u).hide(),G($(this),!0)}),b.off(c,v).on(e,v,function(){G($(this),!1,E.info)}).on(d,v,function(){$(w).hide()}),b.off(g,q).on(g,q,function(){$(u).hide(),y=!1,G($(this),!1)}).off(h,q).on(h,q,function(){$(u).hide(),y=!0}),b.off(e,s).on(e,s,function(){$(u).hide(),y=!1,G($(this),!1,E.content)}).off(d,s).on(d,s,function(){K(F(this))}),b.off(c,t).on(c,t,function(){$(u).hide(),G($(this),!0,E.content)}),b.off(g,r).on(g,r,function(){$(u).hide(),y=!1,G($(this),!1,E.content)}).off(h,r).on(h,r,function(){$(u).hide(),y=!0}),$(window).unbind(f).bind(f,function(){$(u).hide()})},this.closeAll=function(){$(u).hide()},this.positions={},this.positions.middlebottom="mb",this.positions.middletop="mt",this.positions.middleleft="ml",this.positions.topright="tr",this.positionElement=function(a,b,c,d){var e=a.outerWidth(),f=e/2,g=a.position();if(c===D.positions.middlebottom){var h=5;d&&(h+=parseInt(a.css("margin-bottom")));var i=g.top+a.outerHeight()+h+10,j=g.left-b.outerWidth()/2+f;b.css({top:i+"px",left:j+"px"})}else if(c===D.positions.middletop){var h=0;d&&(h+=parseInt(a.css("margin-bottom")));var i=g.top+a.outerHeight()+h,j=g.left-b.outerWidth()/2+f;b.css({top:i+"px",left:j+"px"})}};var F=function(a){return $(a).attr("id")},G=function(a,b,c){a.addClass(j);var d,e=a.attr("data-keyname"),f=c==E.info;d=f?A.replace("{{keyname}}",e):z.replace("{{keyname}}",e);var g=$("#"+d);if(g.length<=0){var h;h=f?C:B,c!=E.content?H(a,d,b,c,e,h):I(a,d,b,c,e,h)}else J(a,g,b,c)},H=function(b,c,d,e,f,g){$.ajax({url:a,type:"POST",dataType:"json",data:{keyname:f},success:function(a){if("undefined"!=typeof a){var f=g.replace("{{keyname}}",a.Key).replace("{{html}}",a.Value);f=M(b)?f.replace("{{arrowclass}}",n):f.replace("{{arrowclass}}",m),$("body").append(f),J(b,c,d,e)}},error:function(a,b,c){alert(c)}})},I=function(a,b,c,d,e,f){var g=$("#"+e);if(g.length>0){var h;h=M(a)?f.replace("{{arrowclass}}",n):f.replace("{{arrowclass}}",m),h=$(h.replace("{{keyname}}",e).replace("{{html}}","")),h.css("max-width","1000px"),g.wrap(h),g.show(),J(a,b,c,d)}},J=function(a,b,f,g){if(0==y){var h=a.outerWidth(),k=h/2,l=(a.outerHeight()/2,a.offset()),m=b;"string"==typeof b&&(m=$("#"+b));var n,o;g==E.info?(n=l.top-m.outerHeight(!0)-10,o=l.left-m.outerWidth(!0)/2+k):(n=l.top,o=M(a)?l.left+h+6:l.left+h+12),m.css({top:n+"px",left:o+"px"});var p=a.attr("id");"undefined"==typeof p&&(p="cart_tt_id_"+$.guid++,a.attr("id",p)),m.attr(x,p),m.off(e).on(e,function(){var a=$(this).attr(x);$("#"+a).addClass(j)}).off(d).on(d,function(){K($(this).attr(x))}),m.show();var q=m.find("."+i);q.unbind(c),f?(q.show(),q.bind(c,function(){$(this).parent().hide()})):q.hide()}else $(u).hide(),y=!1,a.removeClass(j)},K=function(a){var b=typeof a;if("undefined"!==b){var c=$("#"+a);c.removeClass(j),setTimeout(function(){L(c)},200)}},L=function(a){var b=a,c=b.hasClass(k)||b.hasClass(l);c||b.hasClass(j)||(y=!0,$(u).hide())},M=function(a){var b=!1;try{b=a.hasClass(l)||a.hasClass(k)}catch(c){}return b}},cart.controls.cartSelectorFlyout=function(){var a,b,c,d="click.cartFlyoutSelector",e="keyup.cartFlyoutSelector",f="cart-flyout-container",g="cart-flyout-text",h="cart-flyout-list",i="cart-flyout-list-item",j="cart-flyout-selected-item",k="cart-flyout-container-",l='<li class="'+i+'" data-value="{{value}}" data-text="{{text}}">{{text}}</li>',m=$("body");this.init=function(c){a=$.extend({flyoutData:null,onChange:null,onClose:null,cacheName:null,anchor:null,currentItemText:""},c||{}),$("."+f).remove(),null!=a.flyoutData&&(b=null==a.cacheName?k+$.guid++:k+"-"+a.cacheName,n())};var n=function(){var d=a.flyoutData,e='<div id="'+b+'" class="'+f+'"><input type="text" class="'+g+'" /><ul class="'+h+'">';"string"==typeof a.flyoutData&&(d=$.parseJSON(a.flyoutData));for(var i in d){var j=d.hasOwnProperty(i);if(j){var k=d[i],m=l.replace("{{value}}",i).replace("{{text}}",k);e+=m}}e+="</ul><div>";var n;if("object"==typeof a.anchor)n=a.anchor;else{var p=$("#"+a.anchor);n=p.length>0?p:$("."+a.anchor)}$(e).insertAfter(n),c=n.next(),o(n),s(n);var q=document.createElement("input"),r="placeholder"in q;r||(c.removeClass(f).addClass(f),c.find("."+h).removeClass(h).addClass(h))},o=function(b){var f=c.find(" ."+h),i=c.find("."+g);i.unbind(e),i.bind(e,function(a){var b=13==a.which,c=$(this);if(b)q();else{var d=c.val().toLowerCase(),e=!1;f.find("li").filter(function(){var a=$(this),b=a.attr("data-text");if(0===b.toLowerCase().indexOf(d)){var c="<strong>"+b.substr(0,d.length)+"</strong>";if(c+=b.substr(d.length,b.length-d.length),a.html(c),!e){var g=f.scrollTop()+a.offset().top-f.offset().top;f[0].scrollTop=g,e=!0,a.addClass(j)}}else a.html(b.replace("<strong>","").replace("</strong>","")),a.removeClass(j)})}}),m.unbind(e),m.bind(e,function(a){27===a.which&&r()}),b.unbind(d),b.bind(d,function(a){a.stopPropagation()}),c.unbind(d),c.bind(d,function(a){a.stopPropagation()}),setTimeout(p,0),c.find("li").unbind(d).bind(d,function(){c.find("li").removeClass(j),$(this).addClass(j),q()}),i.focus(),i.val(a.currentItemText),i.keyup()},p=function(){m.unbind(d),m.bind(d,function(){r()})},q=function(){var b=c.find("li."+j);if(b.length>=1){var d=b.attr("data-value");null!=a.onChange&&a.onChange(d)}r()},r=function(){null!=a.onClose&&a.onClose(),c.hide(),m.unbind(e),m.unbind(d)},s=function(a){var b=new cart.controls.tooltip;b.positionElement(a,c,b.positions.middlebottom,!1);var d=c.position().top-window.innerHeight+c.outerHeight(!0)+10;m.scrollTop()<=d&&m.scrollTop(d)}},cart.controls.cartSimpleSelector=function(){var a,b,c,d="click.cartSimpleSelector",e="keyup.cartSimpleSelector",f='<li class="cart-simple-selector-li" data-value="{{value}}">{{text}}</li>',g="cart-simple-selector-parent-active",h="cart-simple-selector-selected",i="cart-simple-selector",j="cart-simple-selector-list",k=$("body");this.init=function(b){var c=new cart.controls.tooltip;a=$.extend({selectorData:null,anchor:null,onChange:null,onClose:null,selectedItemValue:"",position:c.positions.middletop},b||{}),$("."+i).empty().remove(),null!=a.anchor&&null!=a.selectorData&&(l(),m()||n())};var l=function(){if("object"==typeof a.anchor)b=a.anchor;else{var c=$("#"+a.anchor);b=c.length>0?c:$("."+a.anchor)}},m=function(){return b.hasClass(g)},n=function(){var d='<div class="'+i+'"><ul class="'+j+'">',e=a.selectorData,h=!1;"string"==typeof a.selectorData&&(e=$.parseJSON(a.selectorData));for(var k in e){var l=e.hasOwnProperty(k);if(l){var m=e[k],n=f.replace("{{value}}",k).replace("{{text}}",m);h||(h=m.indexOf("<")==-1),d+=n}}d+="</ul></div>",$(d).insertAfter(b),c=b.next(),b.addClass(g),h&&$("."+i).css({"min-width":"100px"}),o(),s();var p=document.createElement("input"),q="placeholder"in p;q||c.removeClass(i).addClass(i)},o=function(){if(k.unbind(e).bind(e,function(a){27===a.which&&r()}),c.unbind(d).bind(d,function(a){a.stopPropagation()}),c.find("li").unbind(d).bind(d,function(){var a="",b=c.find("li."+h);b.length>0&&(a=b.attr("data-value")),c.find("li").removeClass(h),$(this).addClass(h),q(a)}),setTimeout(p,0),""!==a.selectedItemValue){var b=!1,f=a.selectedItemValue.toLowerCase(),g=c.find("."+j);g.find("li").filter(function(){var a=$(this),c=a.attr("data-value");if(c.toLowerCase()===f&&!b){var d=g.scrollTop()+a.offset().top-g.offset().top;g[0].scrollTop=d,b=!0,a.addClass(h)}})}},p=function(){k.unbind(d),k.bind(d,function(){r()})},q=function(b){var d=c.find("li."+h);if(d.length>=1){var e=d.attr("data-value"),f=e!==b;if(f){var g="";"string"==typeof a.anchor&&(g=$("#"+a.anchor).next().find(".cart-simple-selector-selected").html()),null!=a.onChange&&a.onChange(e,g)}}r()},r=function(){c.hide(),b.removeClass(g),k.unbind(e),k.unbind(d),null!=a.onClose&&a.onClose()},s=function(){var d=new cart.controls.tooltip;d.positionElement(b,c,a.position);var e=c.position().top-window.innerHeight+c.outerHeight(!0)+10;k.scrollTop()<=e&&k.scrollTop(e)}},$.fn.cartModal=function(a){var b="cart-modal-wrap",c="cart-modal-overlay",d="cart-modal-close",e='<div class="'+b+'"></div>',f='<span class="'+d+'">X</span>',g='<div class="'+c+'"></div>',h="resize.cartModal",i="scroll.cartModal",j="click.cartModal",k="keyup.cartModal",l=$.extend({header:"",close:!1,onClose:null,width:null,height:null},a||{}),m=$("body"),n=$(this),o=function(){n.hide(),n.unwrap(),m.css("overflow","inherit"),$("."+c).remove(),$("."+d).remove(),null!=l.onClose&&l.onClose(),m.unbind(k)},p=function(){var a=$(window).height(),b=$(window).width();r.css("max-height",a-15),n.css({"max-height":a-45,overflow:"auto"}),n.find(".cart-modal-buttonpane").length>0&&n.css("margin-bottom","66px");var c=$(document).scrollTop()+(a/2-r.outerHeight()/2),d=$(document).scrollLeft()+(b/2-r.outerWidth()/2);r.offset({top:c,left:d})},q=$(window);if(q.unbind(h),q.unbind(i),m.unbind(k),l.close)o();else{m.css("overflow","hidden"),m.append(g),n.wrap(e),n.show();var r=$("."+b),s=$("."+c);r.prepend(f),s.offset({top:$(document).scrollTop(),left:$(document).scrollLeft()}),r.offset({left:0}),null!=l.width&&r.css("width",l.width+"px"),null!=l.height&&r.css("height",l.height+"px"),p(),q.bind(h,function(){p()}),$("."+d).bind(j,function(){o()}),q.bind(i,function(){$("."+c).offset({top:$(document).scrollTop()})}),m.bind(k,function(a){27===a.which&&o()});var t=document.createElement("input"),u="placeholder"in t;u||q.resize()}},gbl.ns.register("cart"),cart.ordersummary=function(){var a,b,c,d,e,f,g="click.cartOrderSummary",h="cart-os-currency-sel",i="cart-os-currency-current",j="cart-os-current-country",k="cart-os-btn-submit",l="cart-os-ftr-submit",m="cart-os-btn-confirm",n="cart-os-btn-review",o="cart-purchase-submit",p="cart-modal-minpurchase",q="cart-modal-minpurchase-ok",r="cart-ds-tld-sel",s=".domainSearchTldList",t=".domainSearchTld",u="cart-ds-tld-current",v=".captchaValidate",w=!1,x=!1,y=null,z=null,A=null;this.init=function(g,h,i,j,k,l){a=g,b=i,c=j,d=h,e=k,f=$.extend({accountReviewUrl:null,isBasketPage:!1,isPartiallyTrusted:!1,getMinPurchaseAlertHtmlUrl:null,isBasketEditPage:!1,showMinimumPurchaseAlert:!1},l||{}),B()},this.set_UpdateCurrencyCallback=function(a){y=a},this.set_UpdateCountryCallback=function(a){z=a},this.set_SubmitButtonCallback=function(a){A=a},this.rebindEvents=function(){B()};var B=function(){$("#"+h).unbind(g).bind(g,function(){var b=new cart.controls.cartSimpleSelector,c=$("#"+i).html(),d=0;"undefined"==typeof a||!a||"string"!=typeof a&&"object"!=typeof a||(d="string"==typeof a?Object.keys(JSON.parse(a)).length:Object.keys(a).length,1!=d&&b.init({selectorData:a,anchor:h,selectedItemValue:c,onChange:function(a){x||(x=!0,C(a))},onClose:function(){}}))}),$("#"+j).unbind(g).bind(g,function(){var a=new cart.controls.cartSelectorFlyout,c=$(this).html();a.init({flyoutData:b,anchor:j,onChange:function(a){w||(w=!0,D(a))},currentItemText:c,onClose:function(){}})}),$("#"+k).unbind(g).bind(g,function(){var a=f.isBasketPage||f.isBasketEditPage;a&&f.showMinimumPurchaseAlert?$.ajax({url:f.getMinPurchaseAlertHtmlUrl,data:{targetDivId:"null"},success:function(a){a.Html.length>0&&($("body").append(a.Html),$("#"+q).on(g,function(){$("#"+p).cartModal({close:!0})}),$("#"+p).cartModal())},error:E}):F()}),$("#"+l).unbind(g).bind(g,function(){$("#"+k).trigger(g)}),$("."+r).unbind(g).bind(g,function(){var a,b,c=$(this).attr("data-parent"),d=$(this).attr("data-tldarray"),e=$(this).attr("data-dropdownheight");void 0!=c&&($(this).parents(c).each(function(){return b=$(this).attr("data-itemid"),!1}),$(c).each(function(){if($(this).attr("data-itemid")==b)return a=$(this),!1}));var f=new cart.controls.cartSimpleSelector,g=a.find("."+u).attr("data-tld");f.init({selectorData:d,anchor:a.find("."+r),selectedItemValue:g,onChange:function(b){a.find("."+u).attr("data-tld",b).html("."+b)},onClose:function(){}}),void 0!=e&&e<250&&$(".cart-simple-selector").css({height:e+"px"})}),$(s).unbind(g).bind(g,function(){var a=$(this).attr("data-tld-data"),b=new cart.controls.cartSimpleSelector,c=$(t).attr("data-tld");b.init({selectorData:a,anchor:$(s),selectedItemValue:c,onChange:function(a){$(t).attr("data-tld",a).html("."+a)},onClose:function(){}})}),$("#"+m).unbind(g).bind(g,function(){$(v).click()}),$("#"+n).unbind(g).bind(g,function(){$("#"+o).click()})},C=function(a){$.ajax({url:d,type:"GET",data:{currency:a,targetDivId:"none",actionCount:1},success:function(a,b){x=!1,null!=y&&y(a,b)},error:function(a,b,c){}})},D=function(a){$.ajax({url:c,type:"GET",data:{country:a,targetDivId:"none",actionCount:1},success:function(a,b){w=!1,null!=z&&z(a,b)},error:function(a,b,c){}})},E=function(){window.location.href=f.accountReviewUrl},F=function(){null!=A?A():window.location.href=e}},cart.domainsearch=function(){var a="",b="";this.init=function(c,d){a=c,b=d},this.searchExpressBuy=function(b,d,e,f){var g=FOS_DPP_validateDomainSearchInput(b);if(null!==g&&void 0!==g&&g.length<1){var h={DomainList:b,DotTypes:d,Action:"1"};$.ajax({dataType:"jsonp",url:a,data:h,success:function(a){"undefined"!==a.Result&&(gbl.sharedObjectMgr.set("global-domain-search",{domain:b,tld:d,show:a.Result,itc:e,stackitc:f}),c())}})}};var c=function(){$.ajax({dataType:"jsonp",url:b,jsonp:"expressBuyHtml"})}},function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b=[],c=a(document),d=navigator.userAgent.toLowerCase(),e=a(window),f=[],g={ieQuirks:null,msie:/msie/.test(d)&&!/opera/.test(d),opera:/opera/.test(d)};g.ie6=g.msie&&/msie 6./.test(d)&&"object"!=typeof window.XMLHttpRequest,g.ie7=g.msie&&/msie 7.0/.test(d),a.modal=function(b,c){return a.modal.impl.init(b,c)},a.modal.close=function(){a.modal.impl.close()},a.modal.focus=function(b){a.modal.impl.focus(b)},a.modal.setContainerDimensions=function(){a.modal.impl.setContainerDimensions()},a.modal.setPosition=function(){a.modal.impl.setPosition()},a.modal.update=function(b,c){a.modal.impl.update(b,c)},a.fn.modal=function(b){return a.modal.impl.init(this,b)},a.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},a.modal.impl={d:{},init:function(b,c){var d=this;if(d.d.data)return!1;if(g.ieQuirks=g.msie&&!a.support.boxModel,d.o=a.extend({},a.modal.defaults,c),d.zIndex=d.o.zIndex,d.occb=!1,"object"==typeof b)b=b instanceof a?b:a(b),d.d.placeholder=!1,b.parent().parent().size()>0&&(b.before(a("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),d.d.placeholder=!0,d.display=b.css("display"),d.o.persist||(d.d.orig=b.clone(!0)));else{if("string"!=typeof b&&"number"!=typeof b)return alert("SimpleModal Error: Unsupported data type: "+typeof b),d;b=a("<div></div>").html(b)}return d.create(b),b=null,d.open(),a.isFunction(d.o.onShow)&&d.o.onShow.apply(d,[d.d]),d},create:function(c){var d=this;d.getDimensions(),d.o.modal&&g.ie6&&(d.d.iframe=a('<iframe src="javascript:false;"></iframe>').css(a.extend(d.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:f[0],width:f[1],zIndex:d.o.zIndex,top:0,left:0})).appendTo(d.o.appendTo)),d.d.overlay=a("<div></div>").attr("id",d.o.overlayId).addClass("simplemodal-overlay").css(a.extend(d.o.overlayCss,{display:"none",opacity:d.o.opacity/100,height:d.o.modal?b[0]:0,width:d.o.modal?b[1]:0,position:"fixed",left:0,top:0,zIndex:d.o.zIndex+1})).appendTo(d.o.appendTo),d.d.container=a("<div></div>").attr("id",d.o.containerId).addClass("simplemodal-container").css(a.extend({position:d.o.fixed?"fixed":"absolute"},d.o.containerCss,{display:"none",zIndex:d.o.zIndex+2})).append(d.o.close&&d.o.closeHTML?a(d.o.closeHTML).addClass(d.o.closeClass):"").appendTo(d.o.appendTo),d.d.wrap=a("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(d.d.container),d.d.data=c.attr("id",c.attr("id")||d.o.dataId).addClass("simplemodal-data").css(a.extend(d.o.dataCss,{display:"none"})).appendTo("body"),c=null,d.setContainerDimensions(),d.d.data.appendTo(d.d.wrap),(g.ie6||g.ieQuirks)&&d.fixIE()},bindEvents:function(){var d=this;a("."+d.o.closeClass).bind("click.simplemodal",function(a){a.preventDefault(),d.close()}),d.o.modal&&d.o.close&&d.o.overlayClose&&d.d.overlay.bind("click.simplemodal",function(a){a.preventDefault(),d.close()}),c.bind("keydown.simplemodal",function(a){d.o.modal&&9===a.keyCode?d.watchTab(a):d.o.close&&d.o.escClose&&27===a.keyCode&&(a.preventDefault(),d.close())}),e.bind("resize.simplemodal orientationchange.simplemodal",function(){d.getDimensions(),d.o.autoResize?d.setContainerDimensions():d.o.autoPosition&&d.setPosition(),g.ie6||g.ieQuirks?d.fixIE():d.o.modal&&(d.d.iframe&&d.d.iframe.css({height:f[0],width:f[1]}),d.d.overlay.css({height:b[0],width:b[1]}))})},unbindEvents:function(){a("."+this.o.closeClass).unbind("click.simplemodal"),c.unbind("keydown.simplemodal"),e.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var b=this,c=b.o.position;a.each([b.d.iframe||null,b.o.modal?b.d.overlay:null,"fixed"===b.d.container.css("position")?b.d.container:null],function(a,b){if(b){var d="document.body.clientHeight",e="document.body.clientWidth",f="document.body.scrollHeight",g="document.body.scrollLeft",h="document.body.scrollTop",i="document.body.scrollWidth",j="document.documentElement.clientHeight",k="document.documentElement.clientWidth",l="document.documentElement.scrollLeft",m="document.documentElement.scrollTop",n=b[0].style;if(n.position="absolute",a<2)n.removeExpression("height"),n.removeExpression("width"),n.setExpression("height",""+f+" > "+d+" ? "+f+" : "+d+' + "px"'),n.setExpression("width",""+i+" > "+e+" ? "+i+" : "+e+' + "px"');else{var o,p;if(c&&c.constructor===Array){var q=c[0]?"number"==typeof c[0]?c[0].toString():c[0].replace(/px/,""):b.css("top").replace(/px/,"");if(o=q.indexOf("%")===-1?q+" + (t = "+m+" ? "+m+" : "+h+') + "px"':parseInt(q.replace(/%/,""))+" * (("+j+" || "+d+") / 100) + (t = "+m+" ? "+m+" : "+h+') + "px"',c[1]){var r="number"==typeof c[1]?c[1].toString():c[1].replace(/px/,"");p=r.indexOf("%")===-1?r+" + (t = "+l+" ? "+l+" : "+g+') + "px"':parseInt(r.replace(/%/,""))+" * (("+k+" || "+e+") / 100) + (t = "+l+" ? "+l+" : "+g+') + "px"'}}else o="("+j+" || "+d+") / 2 - (this.offsetHeight / 2) + (t = "+m+" ? "+m+" : "+h+') + "px"',p="("+k+" || "+e+") / 2 - (this.offsetWidth / 2) + (t = "+l+" ? "+l+" : "+g+') + "px"';n.removeExpression("top"),n.removeExpression("left"),n.setExpression("top",o),n.setExpression("left",p)}}})},focus:function(b){var c=this,d=b&&a.inArray(b,["first","last"])!==-1?b:"first",e=a(":input:enabled:visible:"+d,c.d.wrap);setTimeout(function(){e.length>0?e.focus():c.d.wrap.focus()},10)},getDimensions:function(){var a="undefined"==typeof window.innerHeight?e.height():window.innerHeight;b=[c.height(),c.width()],f=[a,e.width()]},getVal:function(a,b){return a?"number"==typeof a?a:"auto"===a?0:a.indexOf("%")>0?parseInt(a.replace(/%/,""))/100*("h"===b?f[0]:f[1]):parseInt(a.replace(/px/,"")):null},update:function(a,b){var c=this;return!!c.d.data&&(c.d.origHeight=c.getVal(a,"h"),c.d.origWidth=c.getVal(b,"w"),c.d.data.hide(),a&&c.d.container.css("height",a),b&&c.d.container.css("width",b),c.setContainerDimensions(),c.d.data.show(),c.o.focus&&c.focus(),c.unbindEvents(),void c.bindEvents())},setContainerDimensions:function(){var a=this,b=g.ie6||g.ie7,c=a.d.origHeight?a.d.origHeight:g.opera?a.d.container.height():a.getVal(b?a.d.container[0].currentStyle.height:a.d.container.css("height"),"h"),d=a.d.origWidth?a.d.origWidth:g.opera?a.d.container.width():a.getVal(b?a.d.container[0].currentStyle.width:a.d.container.css("width"),"w"),e=a.d.data.outerHeight(!0),h=a.d.data.outerWidth(!0);a.d.origHeight=a.d.origHeight||c,
a.d.origWidth=a.d.origWidth||d;var i=a.o.maxHeight?a.getVal(a.o.maxHeight,"h"):null,j=a.o.maxWidth?a.getVal(a.o.maxWidth,"w"):null,k=i&&i<f[0]?i:f[0],l=j&&j<f[1]?j:f[1],m=a.o.minHeight?a.getVal(a.o.minHeight,"h"):"auto";c=c?a.o.autoResize&&c>k?k:c<m?m:c:e?e>k?k:a.o.minHeight&&"auto"!==m&&e<m?m:e:m;var n=a.o.minWidth?a.getVal(a.o.minWidth,"w"):"auto";d=d?a.o.autoResize&&d>l?l:d<n?n:d:h?h>l?l:a.o.minWidth&&"auto"!==n&&h<n?n:h:n,a.d.container.css({height:c,width:d}),a.d.wrap.css({overflow:e>c||h>d?"auto":"visible"}),a.o.autoPosition&&a.setPosition()},setPosition:function(){var a,b,c=this,d=f[0]/2-c.d.container.outerHeight(!0)/2,g=f[1]/2-c.d.container.outerWidth(!0)/2,h="fixed"!==c.d.container.css("position")?e.scrollTop():0;c.o.position&&"[object Array]"===Object.prototype.toString.call(c.o.position)?(a=h+(c.o.position[0]||d),b=c.o.position[1]||g):(a=h+d,b=g),c.d.container.css({left:b,top:a})},watchTab:function(b){var c=this;if(a(b.target).parents(".simplemodal-container").length>0){if(c.inputs=a(":input:enabled:visible:first, :input:enabled:visible:last",c.d.data[0]),!b.shiftKey&&b.target===c.inputs[c.inputs.length-1]||b.shiftKey&&b.target===c.inputs[0]||0===c.inputs.length){b.preventDefault();var d=b.shiftKey?"last":"first";c.focus(d)}}else b.preventDefault(),c.focus()},open:function(){var b=this;b.d.iframe&&b.d.iframe.show(),a.isFunction(b.o.onOpen)?b.o.onOpen.apply(b,[b.d]):(b.d.overlay.show(),b.d.container.show(),b.d.data.show()),b.o.focus&&b.focus(),b.bindEvents()},close:function(){var b=this;if(!b.d.data)return!1;if(b.unbindEvents(),a.isFunction(b.o.onClose)&&!b.occb)b.occb=!0,b.o.onClose.apply(b,[b.d]);else{if(b.d.placeholder){var c=a("#simplemodal-placeholder");b.o.persist?c.replaceWith(b.d.data.removeClass("simplemodal-data").css("display",b.display)):(b.d.data.hide().remove(),c.replaceWith(b.d.orig))}else b.d.data.hide().remove();b.d.container.hide().remove(),b.d.overlay.hide(),b.d.iframe&&b.d.iframe.hide().remove(),b.d.overlay.remove(),b.d={}}}}});var atl_quickhelp_source,atl_HideInvoked=!1;$.fn.outerHtml=function(a){if(a)return this.each(function(){$(this).replaceWith(a)});var b=$("<div></div>").append($(this).clone()),c=b.html();return b.remove(),c},$.fn.centerInClient=function(a){var b={forceAbsolute:!1,container:window,completeHandler:null};return $.extend(b,a),this.each(function(a){var c=$(this),d=$(b.container),e=b.container==window;b.forceAbsolute&&(e?c.remove().appendTo("body"):c.remove().appendTo(d.get(0))),c.css("position","absolute");var f=e?2:1.8,g=(e?d.width():d.outerWidth())/2-c.outerWidth()/2,h=(e?d.height():d.outerHeight())/f-c.outerHeight()/2;c.css("left",g+d.scrollLeft()),c.css("top",h+d.scrollTop()),b.completeHandler&&b.completeHandler(this)})},gbl.ns.register("cart.basket"),cart.basket.processing=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=!1,I=[],J=[],K=0,L=".defProfileApply",M=".defReg-Apply-btn",N="#cart-bp-sel",O="#cart-bp-current",P=".disclaimerPopup",Q="#cart-empty",R=".itemQuantity",S=".hostingTypeSwitch",T=".cart-hts-bind-ddl",U=".itemDuration",V=".emailDuration",W=".tldToggle",X=".bulkToggle",Y=".domainBulkPrivacy",Z=".domainBulkRemove",_=".cart-item-dur-bind-ddl",aa=".cart-dom-dur-bind-ddl",ba=".zeroCartItem",ca=".cartZeroOrder",da=".managerDeleteBasket",ea=".itemAttrib",fa=".addAllCrossSale",ga=".addCrossSale",ha=".dbpUserSwitchButton",ia=".dbpUser",ja=".domainDuration",ka=".domainPrivacy",la=".domainAutoRenew",ma=".domainAuctionPrivacy",na=".removeItem",oa=".addAnotherItem",pa=".domainCertified",qa=".cart-ep-add",ra=".cart-domain-buyer-profile-item",sa="cart-bind-o365userlimit-popup",ta="#cart-modal-o365userlimit-ok",ua="#cart-modal-o365userlimit",va=!1,wa=".icannFee",xa=".miniMyr",ya="click.cart",za="change.cart",Aa="keypress.cart",Ba="keydown.cart",Ca="blur.cart",Da="data-selector",Ea="data-itemid",Fa="data-changeeid",Ga="data-newProductID",Ha="data-newProductQty",Ia="data-promodescr",Ja="data-itemtracking",Ka="data-ci",La="data-updatechildren",Ma="id",Na="data-prevquantity",Oa="data-privacy",Pa="data-secondleveldomain",Qa="data-topleveldomain",Ra="data-internationaldomain",Sa="data-newProductDuration",Ta="data-discountcode",Ua="data-domainlist",Va="data-yourprice",Wa="data-displayedprice",Xa="data-itemOnly",Ya="data-modalTitle",Za="data-modalButton1",$a="data-modalButton2",_a="cartItemsContainer",ab="data-isparentitem",bb="data-hasmatchingdomains",cb="data-hasdomainbundle";this.init=function(H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){a=H,b=I,c=J,d=K,e=L,g=M,h=N,i=O,j=P,k=Q,m=R,n=S,o=T,p=U,q=V,r=W,s=X,t=Y,u=Z,v=$,w=_,x=aa,y=ba,z=ca,A=da,B=ea,l=fa,C=ga,f=ha,D=ia,E=ja,F=ka,G=la,db()},this.updateDomainDurationFunction=function(a){Cb(a)},this.emailDuelDuration=function(a){var b=a.val().split(","),c=b[0],d=a.attr(Ea),e=a.attr(Ia),f=a.attr(Ja),g=a.attr(Ka);Kb(),$.getJSON(p,{itemID:d,newProductID:c,ciCode:g,promoDescr:e,newProductQuantity:"1",itemTrackingCode:f,TargetDivId:_a,actionCount:K},Lb)},this.itemDuelDuration=function(a){var b=a.val().split(","),c=b[0],d=1,e=1;b.length>1&&(d=b[1]),b.length>2&&(e=b[2]);var f=a.attr(Ea),g=a.attr(Ia),h=a.attr(Ja),i=a.attr(Ka);Kb(),$.getJSON(m,{itemID:f,newProductID:c,ciCode:i,promoDescr:g,newProductQuantity:d,itemTrackingCode:h,TargetDivId:_a,actionCount:K,upgradeDuration:e},Lb)};var db=function(){Ib(),Fb(),Hb(),Gb(),Db(),Bb(),Ab(),a&&zb(),yb(),xb(),rb(),qb(),pb(),kb(),ob(),nb("g-modal-remDDC"),nb("g-modal-dupDBP"),lb(),ub(),jb(),hb(),fb(),gb(),eb(),Eb()},eb=function(){$(ta).off(ya).on(ya,function(){$(ua).cartModal({close:!0}),va=!1})},fb=function(){"undefined"!=typeof _cart_ordersummary_controller&&(_cart_ordersummary_controller.set_UpdateCountryCallback(Lb),_cart_ordersummary_controller.set_UpdateCurrencyCallback(Lb))},gb=function(){$(document.body).off(ya,qa).on(ya,qa,function(){var a=$(this).attr("data-pfid"),b=$(this).attr("data-dc"),c=$(this).attr("data-quantity"),d=$(this).attr("data-duration"),e="40966"===a?"Cart_Buster_OLS_FT":"Cart_Buster_3";$.ajax({url:k,data:{newProductId:a,newProductQuantity:c,newProductDuration:d,targetDivId:"cartsItemContainer",itemTrackingCode:e,discountCode:b},success:Lb,error:Pb})})},hb=function(){$(aa).each(function(){var a=$(this);a.off(ya).on(ya,function(){var b=new cart.controls.cartSimpleSelector,c=a.attr("data-anchor"),d=a.attr("data-selectedvalue"),e=a.attr("data-list");b.init({position:(new cart.controls.tooltip).positions.middleleft,selectorData:e,anchor:c,selectedItemValue:d,onChange:function(a){var b=a.split("|"),c=b[0],d=b[1],e=$("#dur_val_"+d);e.val(c),basketController.updateDomainDurationFunction(e)}})})}),$(_).each(function(){var a=$(this);a.off(ya).on(ya,function(){var b=new cart.controls.cartSimpleSelector,c=a.attr("data-anchor"),d=a.attr("data-selectedvalue"),e=a.attr("data-list");b.init({position:(new cart.controls.tooltip).positions.middleleft,selectorData:e,anchor:c,selectedItemValue:d,onChange:function(a){var b=a.split("|"),c=b[0],d=b[1],e=c.split(",")[2],f=$("#dur_val_"+d);f.val(c),"true"===e&&void 0!=typeof change_term_confirm_url?ib(f):f.hasClass("emailDuration")?basketController.emailDuelDuration(f):basketController.itemDuelDuration(f)}})})})},ib=function(a){var b="change-term-confirm-modal",c=a.attr(Ea),d=a.attr(Ka),e=a.attr(Ia),f={itemID:c,ciCode:d,TargetDivId:_a,promodescr:e,actionCount:K,productID:a.val().split(",")[0]},g=0==$("#"+b).length||$("#"+b).length>0&&"none"==$("#"+b).css("display");return g?($.getJSON(change_term_confirm_url,f,function(a){$("#"+b).empty().remove(),$("body").append(a.Html),$("#"+b).cartModal()}),!1):void basketController.itemDuelDuration(a)},jb=function(){$(".iscMessaging-close").bind(ya,function(){$("#iscMessaging").hide(),$.ajax({url:G,data:{banner:"iscmessaging"},dataType:"jsonp"})}),$(".renewalAlert2-close").bind(ya,function(){$("#renewalAlert2").hide(),$.ajax({url:G,data:{banner:"renewal2"},dataType:"jsonp"})})},kb=function(){$(wa).bind(ya,function(){$.ajax({url:C,data:{TargetDivID:"icannFeeContent"},dataType:"jsonp",success:function(a){$("#icannFeeContent").html(a.Html),$("#icannFeeModal").cartModal({})},error:function(){}})}),$("#cart-icannfee-close").off(ya).on(ya,function(){$("#icannFeeModal").cartModal({close:!0})})},lb=function(){$(xa).bind(ya,function(){$("#renewalAlert2").is(":visible")&&($(".renewalAlert2-renewnow").hide(),$(".renewalAlert2-loading").css("display","inline-block"),$.ajax({url:cart_MiniMYRURL,data:{TargetDivID:"miniMyrResults",MaxItems:cart_RenewalCount,ExpirationDays:cart_RenewalExpirationDays},dataType:"jsonp",success:function(a){if("undefined"==typeof c){var b=a.Data.CSSFile;$("head").append('<link href="'+b+'" type="text/css" rel="stylesheet"/>');var c=!1;$.getScript(a.Data.JQueryUIFile,function(){$("#miniMyrResults").appendTo("body"),$("#miniMyrResults").html(a.Html),"undefined"!=typeof miniMYR_Close&&miniMYR_Close&&($(".renewalAlert2-loading").hide(),$(".renewalAlert2-renewnow").css("display","inline-block"))})}else $("#miniMyrResults").html(a.Html),"undefined"!=typeof miniMYR_Close&&miniMYR_Close&&($(".renewalAlert2-loading").hide(),$(".renewalAlert2-renewnow").css("display","inline-block"));$("#miniMyrResults").unbind("MiniMyrComplete").bind("MiniMyrComplete",mb)},error:function(){return $.getJSON(renewnow_error_url,{TargetDivId:"miniMyrResults"},function(a){var b={onClose:function(){$(".renewalAlert2-close").trigger("click")}};$("#renewnow-error-modal").empty().remove(),$("body").append(a.Html),$("#renewnow-error-modal").cartModal(b)}),!1}}))})},mb=function(a,b){return miniMyrRetVal=b,"undefined"!=typeof miniMYR_Close&&miniMYR_Close?($(".renewalAlert2-loading").hide(),$(".renewalAlert2-renewnow").css("display","inline-block"),miniMYR_Close(),Kb(),void(c.indexOf("?")>=0?$.getJSON(c+"&renewals="+miniMyrRetVal,"TargetDivId="+_a,basket_ajax_UpdateBasket):$.getJSON(c+"?renewals="+miniMyrRetVal,{TargetDivId:_a,actionCount:K},basket_ajax_UpdateBasket))):($.getJSON(renewnow_error_url,{TargetDivId:"miniMyrResults"},function(a){var b={onClose:function(){$(".renewalAlert2-close").trigger("click")}};$("#renewnow-error-modal").empty().remove(),$("body").append(a.Html),$("#renewnow-error-modal").cartModal(b)}),!1)},nb=function(a){var b=a+"-Confirm",c=a+"-Cancel",e=$("#"+b);$("#"+c);e.unbind(ya),e.bind(ya,function(){var a=$(this),b=a.attr(Ea),c=a.attr(Va),e=a.attr(Wa),f=a.attr(Xa),g=a.attr("data-removeDups");Kb(),$.getJSON(d,{itemID:b,yourprice:c,totalprice:e,itemOnly:f,TargetDivId:_a,actionCount:K,removeDups:g},Lb)})},ob=function(){$(P).bind(ya,function(){$(this),$("#g-modal-disclaimers-redesign").cartModal()})},pb=function(){$(Q).bind(ya,function(){$("#g-modal-emptyCart").cartModal()}),$("body").off("click","#g-modal-emptyCart-Confirm, #g-modal-emptyCart-Cancel").on("click","#g-modal-emptyCart-Confirm, #g-modal-emptyCart-Cancel",function(){$("#g-modal-emptyCart").cartModal({close:!0}),"g-modal-emptyCart-Confirm"==this.id&&(Kb(),$.getJSON(t,{TargetDivId:_a,actionCount:K},Lb))})},qb=function(){$(V).bind(za,function(){var a=$(this),b=a.attr(Ma),c=Qb(b),d=a.attr(Ea),e=a.attr(Ia),f=a.attr(Ja),g=a.attr(Ka);Kb(),$.getJSON(p,{itemID:d,newProductID:c,ciCode:g,promoDescr:e,newProductQuantity:"1",itemTrackingCode:f,TargetDivId:_a,actionCount:K},Lb)}),$(T).each(function(){var a=$(this);a.off(ya).on(ya,function(){var b=new cart.controls.cartSimpleSelector,c=a.attr("data-anchor"),d=a.attr("data-selectedvalue"),e=a.attr("data-list");b.init({selectorData:e,anchor:c,selectedItemValue:d,onChange:function(a){var b=a.split("|"),c=b[0],d=b[1],e=$("#hostingTypeSwitch_"+d);e.val(c),e.trigger(za)}})})}),$(S).bind(za,function(){var a=$(this);a.hide();var b=a.attr(Ma),c=Qb(b),d=a.attr(Ea),e=a.attr(Ia),f=a.attr(Ja),g=a.attr(Ka),h=a.attr(Ha);""==$.trim(h)&&(h="1"),Kb(),$.getJSON(m,{itemID:d,newProductID:c,ciCode:g,promoDescr:e,newProductQuantity:h,itemTrackingCode:f,TargetDivId:_a,actionCount:K},Lb)}),$(U).bind(za,function(){var a=$(this),b=a.attr(Ma),c=Rb(b,Ha),d=Qb(b),e=a.attr(Ea),f=a.attr(Ia),g=a.attr(Ja),h=a.attr(Ka);Kb(),$.getJSON(m,{itemID:e,newProductID:d,ciCode:h,promoDescr:f,newProductQuantity:c,itemTrackingCode:g,TargetDivId:_a,actionCount:K},Lb)})},rb=function(){$(R).bind(Aa,function(a){Sb(a)}),$(R).bind(Ba,function(a){atl_disableEnterKey(a);var b;if(!a)var a=window.event;if(a.keyCode?b=a.keyCode:a.which&&(b=a.which),13==b){var c=$(this),d=c.attr(Ea),e=c.val(),f=c.attr(Na);if(e!=f){var g=$(this).hasClass(sa);if(!g||g&&!sb(this,f)){var h=c.attr(Ja),i=c.attr(Ka),k=c.attr(Ia),l=c.attr(Fa);window._trfq=window._trfq||[],_trfq.push(["cmdLogPageEvent","change",l]),Kb(),$.getJSON(j,{newProductQuantity:e,itemID:d,ciCode:i,itemTrackingCode:h,promoDescr:k,TargetDivId:_a,actionCount:K},Lb)}}return!1}return!0}),$(R).bind(Ca,function(a){var b=$(this),c=b.val(),d=b.attr(Na);if(c!=d){var e=$(this).hasClass(sa);if(!e||e&&!sb(this,d)){var f=b.attr(Ea),g=b.attr(Ja),h=b.attr(Ka),i=b.attr(Ia),k=b.attr(Fa);window._trfq=window._trfq||[],_trfq.push(["cmdLogPageEvent","change",k]),Kb(),$.getJSON(j,{newProductQuantity:c,itemID:f,ciCode:h,itemTrackingCode:g,promoDescr:i,TargetDivId:_a,actionCount:K},Lb)}}})},sb=function(a,b){if(!va){var c=$(a),d=c.val();isNaN(d)||d>25&&($(ua).cartModal({onClose:function(){va=!1}}),c.val(b),va=!0)}return va},tb=function(a,b,c){var d=$(a),e=$("#g-modal-privateReg-redesign");d.bind(ya,function(){var a=$(this),d=a.attr(Ea),f=a.attr(Oa),g=a.attr(Pa),h=a.attr(Ja),i=a.attr(La),j=a.attr(Ia),k=a.attr(Ka),l={itemID:d,domainPrivacy:f,secondleveldomain:g,ciCode:k,itemTrackingCode:h,promoDescr:j,updateChildren:i,TargetDivId:_a,actionCount:K};"Private"==f?!H&&a.attr(Ya)&&(H=!0,e.cartModal({onClose:function(){Kb(),$.getJSON(c,l,Lb)}}),$("#privacyreg-title").html(a.attr(Ya)),$("#defprivReg-applyall").html(a.attr(Za)).click(function(){e.cartModal({close:!0}),Kb(),$.getJSON(b,{TargetDivId:_a,actionCount:K,ciCode:k,itemTrackingCode:h},Lb)}),$("#defprivReg-applyone").html(a.attr($a)).click(function(){e.cartModal({close:!0}),Kb(),$.getJSON(c,l,Lb)})):($(".cart-modal-close").click(),Kb(),$.getJSON(c,l,Lb))})},ub=function(){for(var a=I.length,b=0;b<a;b++){var c=I[b],d=$(".g-table-style_"+c);d.slideToggle(0),$(".toggle_"+c).removeClass("toggleoff"),$("#togglePrivacyTotal"+c).hide()}a=J.length;for(var b=0;b<a;b++){var c=J[b],d=$(".g-table-tld_"+c);d.slideToggle(0),$(".toggle_"+c).removeClass("toggleoff")}},vb=function(a,b){for(var c=I.length,d=!1,e=0;e<c;e++)if(I[e]==a){d=!0,b||I.splice(e,1);break}!d&&b&&I.push(a)},wb=function(a,b){for(var c=J.length,d=!1,e=0;e<c;e++)if(J[e]==a){d=!0,b||J.splice(e,1);break}!d&&b&&J.push(a)},xb=function(){$(W).bind(ya,function(){var a=$(this),b=a.attr(Ea),c=".g-table-tld_"+b;return a.hasClass("navic-accordclosed")?(a.removeClass("navic-accordclosed"),a.addClass("navic-accordopen")):a.hasClass("navic-accordopen")?(a.removeClass("navic-accordopen"),a.addClass("navic-accordclosed")):a.children(".toggleoff").length?(wb(b,!0),$(".toggle_"+b).removeClass("toggleoff")):(wb(b,!1),$(".toggle_"+b).addClass("toggleoff")),$(c).slideToggle("slow"),!1})},yb=function(){$(X).bind(ya,function(){var a=$(this),b=a.attr(Ea),c=".g-table-style_"+b;return $(c).slideToggle("slow"),a.hasClass("g-acc-minus")?(vb(b,!1),a.removeClass("g-acc-minus"),a.addClass("g-acc-plus")):a.hasClass("g-acc-plus")?(vb(b,!0),a.addClass("g-acc-minus"),a.removeClass("g-acc-plus")):a.children(".toggleoff").length?(vb(b,!0),$("#togglePrivacyTotal"+b).hide(),$(".toggle_"+b).removeClass("toggleoff")):(vb(b,!1),$("#togglePrivacyTotal"+b).show(),$(".toggle_"+b).addClass("toggleoff")),!1}),b&&!H?tb(Y,u,w):$(Y).bind(ya,function(){var a=$(this),b=a.attr(Ea),c=a.attr(Oa),d=a.attr(Pa),e=a.attr(Ja),f=a.attr(Ia),g=a.attr(Ka);Kb(),$.getJSON(w,{itemID:b,domainPrivacy:c,secondleveldomain:d,ciCode:g,itemTrackingCode:e,promoDescr:f,TargetDivId:_a,actionCount:K},Lb)}),$(Z).bind(ya,function(){var a=$(this),b=a.attr(Ea),c=a.attr(Pa),d=a.attr(Qa),e=a.attr(Ja),f=a.attr(Ka),g=a.attr(Ia);Kb(),$.getJSON(v,{itemID:b,secondleveldomain:c,topleveldomain:d,ciCode:f,itemTrackingCode:e,promoDescr:g,TargetDivId:_a,actionCount:K},Lb)})},zb=function(){$(ca).bind(ya,function(a){var b=$(this),c=b.attr(Ea),d=$.trim($("#zeroreason option:selected").val());"Select Reason"==d||""==d?alert("You must select a reason to zero this order"):(Kb(),$.getJSON(y,{TargetDivId:_a,actionCount:K,itemID:c,selectedReason:d},Lb))}),$(ba).bind(ya,function(a){var b=$(this),c=b.attr(Ea),d=$.trim($("#zeroreason option:selected").val());"Select Reason"==d||""==d?alert("You must select a reason to zero this item"):(Kb(),$.getJSON(x,{TargetDivId:_a,actionCount:K,itemID:c,selectedReason:d},Lb))}),$(da).bind(ya,function(a){Kb(),$.getJSON(cart_managerDeleteBasketURL,{TargetDivId:_a,actionCount:K},Lb)}),$(ea).bind(ya,function(a){var b=$(this),c=b.attr(Ea),d=$("#itemAttrib_"+c),e=$("#itemAttribData_"+c),f=d.position();if(e.is(":visible"))e.hide();else{e.show();var f=d.position();e.css("position","absolute"),e.css("top",f.top+d.height()),e.css("left",f.left)}}),$(".itemAttribData").bind(ya,function(a){$(this).hide()})},Ab=function(){$(ga).bind(ya,function(a){var b=$(this);b.addClass("addClicked"),b.children(".spinImg").css("display","inline");var c=b.attr(Ga),d=b.attr(Ea),e=b.attr(Qa),f=b.attr(Pa),g=b.attr(Ra),h=b.attr(Sa),j=b.attr(Ja),k=b.attr(Ta),l=b.attr(Ia);Kb(),$.getJSON(i,{newProductID:c,itemID:d,topleveldomain:e,secondleveldomain:f,internationaldomain:g,newProductDuration:h,discountcode:k,itemTrackingCode:j,promoDescr:l,TargetDivId:_a,actionCount:K},Lb)}),$(fa).bind(ya,function(a){var b=$(this);b.addClass("addClicked"),b.children(".spinImg").css("display","inline");var c=b.attr(Ua),d=b.attr(Ea),e=b.attr(Ja),f=b.attr(Ia);Kb(),$.getJSON(i,{domainlist:c,itemID:d,itemTrackingCode:e,promoDescr:f,TargetDivId:_a,actionCount:K},Lb)})},Bb=function(){$(ma).bind(ya,function(a){var b=$(this),c=b.attr(La),d=b.attr(Oa),e=b.attr(Ea),f=b.attr(Ka),g=b.attr(Ja),i=b.attr(Ia);Kb(),$.getJSON(h,{itemID:e,domainPrivacy:d,ciCode:f,promoDescr:i,updateChildren:c,itemTrackingCode:g,TargetDivId:_a,actionCount:K},Lb)}),$(ka).bind(ya,function(a){var b=$(this),c=b.attr(La),d=b.attr(Oa),e=b.attr(Ea),f=b.attr(Ka),h=b.attr(Ja),i=b.attr(Ia);Kb(),$.getJSON(g,{itemID:e,domainPrivacy:d,ciCode:f,promoDescr:i,updateChildren:c,itemTrackingCode:h,TargetDivId:_a,actionCount:K},Lb)});var a=function(a){$("#"+a+"_container").unbind(ya),$("#"+a+"_container").bind(ya,function(a){$(this).toggleClass("expanded"),$(this).find(".cart-cntry-state-image").toggleClass("cart-cntry-state-image-dwn")}),$("#"+a+"_container .option").unbind(ya),$("#"+a+"_container .option").bind(ya,function(b){var c=$(this);$("#"+a+"_display").text(c.text()),$("#"+a).val(c.attr("data-code")),$("#"+a).trigger(za)});var b=$("#"+a+"_container .option").length;b>10?$("#"+a+"_container .options").css("height","230px").css("overflow-y","scroll"):$("#"+a+"_container .options").css("height",23*b+"px").css("overflow-y","hidden")};$(".dbpChoose").each(function(){var b=$(this),c=b.attr("id"),d=c.substr(0,c.indexOf("_container"));a(d)}),$(ha).bind(ya,function(){var a=$(this),b=a.attr(Ea);$("#curDBPUser_"+b).hide(),a.hide(),$("#dbpUser_"+b+"_container").show()}),$(ia).bind(za,function(){var a=$(this),b=a.attr(Ea),c=a.attr(Ma),d=Qb(c);Kb(),$.getJSON(B,{itemID:b,dbpUser:d,TargetDivId:_a,actionCount:K},Lb)})},Cb=function(a){var b=a.attr(La),c=a.attr(Ma),d=Qb(c),e=a.attr(Ea),f=a.attr(Oa),g=a.attr("newquantity"),h=a.attr(Ta),i=a.attr(Ja),j=a.attr(Ka),k=a.attr(Ia);Kb(),$.getJSON(n,{newProductID:d,newProductQuantity:g,discountcode:h,ciCode:j,itemTrackingCode:i,promoDescr:k,itemID:e,itemTrackingCode:i,domainPrivacy:f,updateChildren:b,TargetDivId:_a,actionCount:K},Lb)},Db=function(){$(N).unbind(ya).bind(ya,function(){var a=$.parseJSON($(this).attr("data-bparray")),b=new cart.controls.cartSimpleSelector,c=$(N).find(O).attr("data-bpid");b.init({position:(new cart.controls.tooltip).positions.middleleft,selectorData:a,anchor:"cart-bp-sel",selectedItemValue:c,onChange:function(b){var c="";$.each(a,function(a,d){a==b&&(c=d)}),$(N).find(O).attr("data-bpid",b).html(c)},onClose:function(){}}),$(".cart-simple-selector").css({height:"120px"})}),$(L).bind(ya,function(a){var b,c,d="",e="",f=$("#g-modal-buyerProfile-redesign");f.length>0?e=$(O).attr("data-bpid"):(b=$(this),c=b.attr(Da),d=Qb(c),e=Rb(c,"profid")),Kb(),$.getJSON(l,{selectedProf:e,newDuration:d,TargetDivId:_a,actionCount:K},Lb)}),$(M).bind(ya,function(a){var b=$("#cart-defaultRegLength-val").val();Kb(),$.getJSON(l,{selectedProf:b,TargetDivId:_a,actionCount:K},Lb)}),$(ja).bind(za,function(a){var b=$(this);Cb(b)})},Eb=function(){$("#cart-domain-buyer-profile").off(ya,ra).on(ya,ra,function(){var a=$(this).attr("data-value");Kb(),$.getJSON(l,{selectedProf:a,TargetDivId:_a,actionCount:K},Lb)})},Fb=function(){$(na).bind(ya,function(a){var b=$(this),c=b.attr(Ea),e=b.attr(Va),f=b.attr(Wa),g=b.attr(Xa),h=b.attr(Ia),i=b.attr(ab),j=b.attr(bb),k=b.attr(cb),l={itemID:c,yourprice:e,totalprice:f,itemOnly:g,TargetDivId:_a,promodescr:h,actionCount:K,showChangeTotal:!1};if(("true"==i||"true"==j||"true"===k)&&void 0!=typeof remove_confirm_url){var m="delete-confirm-modal",n=0==$("#"+m).length||$("#"+m).length>0&&"none"==$("#"+m).css("display");if(n)return"true"!=j&&"true"!==k||(l.showChangeTotal=!0),$.getJSON(remove_confirm_url,l,function(a){$("#"+m).empty().remove(),$("body").append(a.Html),$("#"+m).cartModal()}),!1}Kb(),$.getJSON(d,l,Lb)})},Gb=function(){$(pa).bind(ya,function(a){var b=$(this),c=b.attr(Ea),d=b.attr(Ka),e=b.attr(Ia),g=b.attr(Ja);Kb(),$.getJSON(f,{itemID:c,ciCode:d,promodescr:e,itemTrackingCode:g,TargetDivId:_a,actionCount:K},Lb)})},Hb=function(){$(oa).bind(ya,function(a){var b=$(this),c=b.attr(Ea),d=b.attr(Ka),f=b.attr(Ia),g=b.attr(Ja);Kb(),$.getJSON(e,{itemID:c,ciCode:d,promodescr:f,itemTrackingCode:g,TargetDivId:_a,actionCount:K},Lb)})},Ib=function(){$("#promoApplyNow").unbind(ya).bind(ya,function(a){var b=$(".promoCodeText");""==b.val()?(b.css("border-color","red"),$("#noPromoEntered").show()):($(".promoEntry").children(".spinImg").show(),atl_promotion_Post(b[0].id,"Basket"))})},Jb=function(){$(na).unbind(ya),$(oa).unbind(ya),$(ja).unbind(za),$(L).unbind(ya),$(ka).unbind(ya),$(la).unbind(ya),$(ia).unbind(za),$(fa).unbind(ya),$(ga).unbind(ya),a&&($(ea).unbind(ya),$(ba).unbind(ya),$(da).unbind(ya)),$(W).unbind(ya),$(X).unbind(ya),$(Y).unbind(ya),$(Z).unbind(ya),$(S).unbind(za),$(U).unbind(za),$(V).unbind(za),$(ma).unbind(ya),$(Q).unbind(ya),$(ca).unbind(ya),$(P).unbind(ya)},Kb=function(){K++,Ob()},Lb=function(a,d){errorRefreshBasket=!1;var e=$("#"+_a),f=$("#debug");K-=1,Ob(),a.Data.Redirect&&(document.location=a.Data.NextURL),K<=0&&!a.Data.Redirect&&(a.Data.CartLoaded?actionOccured?(actionOccured=!1,Mb(),K+=1,$.getJSON(c,"TargetDivId="+_a,Lb)):(b=a.Data.IsDBPFree,Jb(),e.outerHtml(a.Html),f.outerHtml(a.Data.DebugInfoHtml),K=0,blockAdditionalActions=!1,actionOccured||Nb(),window.pcSetCart&&pcSetCart(a.Data.ItemCount),db()):(actionOccured=!1,Mb(),K+=1,$.getJSON(c,"TargetDivId="+_a,Lb)))},Mb=function(){$("#UpdateBasketSpinner").centerInClient(),$("#RequestCount").text(""),$("#spinRefreshCart").show(),$("#UpdateBasketSpinner").show()},Nb=function(){$("#UpdateBasketSpinner").hide()},Ob=function(){K>0?($("#UpdateBasketSpinner").centerInClient(),$("#RequestCount").text(K),$("#UpdateBasketSpinner").show()):$("#UpdateBasketSpinner").hide()},Pb=function(a,b,d){K-=1,Ob(),errorRefreshBasket?(K=0,Ob(),document.location=A):0==K&&(K+=1,Ob(),$.getJSON(c,"TargetDivId="+_a,Lb),errorRefreshBasket=!0)},Qb=function(a){var b=document.getElementById(a);if(null!=b&&void 0!=b.selectedIndex){var c=b.options[b.selectedIndex].value;return c}return null!=b&&void 0!=b.value?b.value:null},Rb=function(a,b){var c=$("#"+a+" option:selected"),d=c.attr(b);return d},Sb=function(a){var b,c,d;window.event?b=a.keyCode:a.which&&(b=a.which),c=String.fromCharCode(b),regForm="[a-zA-Z!@#$%^&*()<>]";var d=new RegExp(regForm);return!d.test(c)};this.basket_actionOccured=function(){Kb()},this.basket_updateBasket=function(a,b){Lb(a,b)},this.promotion_Select=function(a,b,c){$("#"+a).show(),$("#"+b).focus(),$("#"+c).hide()},this.promotion_Post=function(a,b){var c=document.getElementById(a);if(atl_valid_removeBadChar(c),c.value=c.value.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," "),null!=c){atlFormSetValue("cartform","promoCode",c.value),atlFormSetValue("cartform","ciCode",""),atlFormSetValue("cartform","promoDescr",""),atlFormSetValue("cartform","nextPage",b),atlFormSubmit("cartform",z);var d=$("#cartform");d.length>0&&d.empty()}},this.promotion_Remove=function(a){atlFormSetValue("cartform","action","remove"),atlFormSetValue("cartform","promoCode",""),atlFormSetValue("cartform","ciCode",""),atlFormSetValue("cartform","promoDescr",""),atlFormSetValue("cartform","nextPage",a),atlFormSubmit("cartform",z);var b=$("#cartform");b.length>0&&b.empty()};var Tb=function(a,b){Kb(),$.getJSON(E,{currency:a,banner:b,TargetDivId:_a,actionCount:K},Lb)};this.currencyChanged=function(a,b){Tb(a,b)}};